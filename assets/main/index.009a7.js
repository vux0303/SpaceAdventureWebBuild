window.__require=function t(e,n,i){function o(r,a){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!a&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return o(e[r][1][t]||t)},l,l.exports,t,e,n,i)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({BackgroundMgr:[function(t,e,n){"use strict";cc._RF.push(e,"bfd9bMUJ0VE657PT2WOhaJc","BackgroundMgr"),cc.Class({extends:cc.Component,properties:{scrollSpeed:1},setScrollSpeed:function(t){var e,n=this.onDestroy.children;for(child in n)(e=child.getComponent("EndlessScrollSprites"))&&(e.scrollSpeed=t)}}),cc._RF.pop()},{}],BulletBase:[function(t,e,n){"use strict";cc._RF.push(e,"17329CUWoVMea7bZ1hfqIsT","BulletBase");var i=cc.Class({extends:cc.Component,properties:{direction:cc.Vec2,damage:1,speed:1,_minSpeed:100,_speedStep:50,_offset:25,_pool:{default:null,type:cc.NodePool}},unuse:function(){this.node.x=-50,this.node.y=-50},onCollisionEnter:function(t,e){t.node.getComponent(i)||(this.node.cleanup(),this._pool.put(this.node))}});e.exports=i,cc._RF.pop()},{}],DecoLayerMgr:[function(t,e,n){"use strict";cc._RF.push(e,"0a4c8q0uFZOm76L9tEUQH3C","DecoLayerMgr"),cc.Class({extends:cc.Component,properties:{firstSpawner:cc.Node},start:function(){this.firstSpawner.getComponent("Spawner").launch()}}),cc._RF.pop()},{}],DropdownSpawn:[function(t,e,n){"use strict";cc._RF.push(e,"dc03eAIjQxI+I+mT2Gg/m3I","DropdownSpawn");var i=t("../../Utils"),o=t("./FlyBySpawn"),s=cc.Enum({leftToRight:0,rightToLeft:1,random:4}),r=cc.Class({name:"DropdownOrder",statics:{leftToRight:function(t){},rightToLeft:function(t){t.reverse()},random:function(t){t.sort(function(t,e){return.5-Math.random()})}}}),a=[r.leftToRight,r.rightToLeft,r.centerToSides,r.sidesToCenter,r.random],c=cc.Enum({straight:0,plannet:1,randomDirection:2,randomBezier:3,wave:4}),h=cc.Class({name:"FlyPathBase",properties:{speed:{default:6,range:[1,10,1],slide:!0},offset:100}}),l=[cc.Class({name:"StraightFlyPath",extends:h,tween:function(){return cc.tween().by(11-this.speed,{position:cc.v2(0,-cc.winSize.height-2*this.offset)})}}),cc.Class({name:"PlannetFlyPath",extends:h,tween:function(){return cc.tween().parallel(cc.tween().by(70-5*this.speed,{position:cc.v2(0,-cc.winSize.height-2*this.offset)}),cc.tween().by(2*(70-5*this.speed)/3,{scale:.3}).by(1*(70-5*this.speed)/3,{scale:-.1}))}}),cc.Class({name:"RandomDirection",extends:h,tween:function(){return cc.tween().to(11-this.speed,{position:cc.v2(i.getRndInterger(-200,cc.winSize.width+200),-cc.winSize.height-2*this.offset)})}}),cc.Class({name:"RandomBezier",extends:h,tween:function(){return cc.tween().bezierTo((11-this.speed)/2,cc.v2(cc.winSize.width+100,1*cc.winSize.height/3),cc.v2(cc.winSize.width-100,3*cc.winSize.height/5),cc.v2(cc.winSize.width/2,2*cc.winSize.height/3)).bezierTo(11-this.speed,cc.v2(0,3*cc.winSize.height/4),cc.v2(-100,1*cc.winSize.height/3),cc.v2(2*cc.winSize.width,-cc.winSize.height-this.offset))}}),cc.Class({name:"Wave",extends:h,properties:{range:200,duration:1},tween:function(){var t=this;return cc.tween().call(function(e){cc.tween(e).by(t.duration,{x:t.range/2},{easing:"sineOut"}).repeatForever(cc.tween().by(2*t.duration,{x:-t.range},{easing:"sineInOut"}).by(2*t.duration,{x:t.range},{easing:"sineInOut"})).start()},this).by(11-this.speed,{y:-cc.winSize.height-2*this.offset})}})];cc.Class({extends:o,properties:{_startPoints:[cc.Vec2],_offset:150,startPointNum:{default:0,displayName:"Number of start points",tooltip:"Number of start points. Place on top of screen with equal distance between points base on chosen numer"},launchOption:{default:s.leftToRight,type:s},flyPathOption:{default:c.straight,type:c,notify:function(){this.flyPath=new l[this.flyPathOption]}},flyPath:{default:null,type:h,notify:function(){this.flyPath&&"FlyPathBase"==this.flyPath.constructor.name&&(this.flyPath=new l[this.flyPathOption])}}},onLoad:function(){this._super(),this._offset=this.flyPath.offset,this._numTotal=this.startPointNum,this._numEachSpawn=1,this.initStartPoints(),a[this.launchOption](this._startPoints),this.initTweens()},initTweens:function(){for(var t=0;t<this._numTotal;t++)this._tweens.push(cc.tween().then(this.launch(t)).then(this.flyPath.tween()))},initStartPoints:function(){for(var t=cc.winSize.width/(this.startPointNum+1),e=0;e<this.startPointNum;e++)this._startPoints.push(cc.v2((e+1)*t,cc.winSize.height+this._offset))},launch:function(t){return cc.tween().to(0,{position:this._startPoints[t]})}});cc._RF.pop()},{"../../Utils":"Utils","./FlyBySpawn":"FlyBySpawn"}],EndlessScrollSprites:[function(t,e,n){"use strict";cc._RF.push(e,"3b021gxSyhA7oR8W4QAxdAO","EndlessScrollSprites"),cc.Class({extends:cc.Component,properties:{scrollSpeed:1,isVertical:!0,_midPoint:cc.v2,_startPoint:cc.v2,_finishPoint:cc.v2,_bgFrameHolder1:cc.v2,_bgIdx1:0,_bgIdx2:1,_bgFrameHolder2:cc.v2,_direction:cc.v2},onLoad:function(){this._midPoint=cc.v2(0,0),this._startPoint=cc.v2(this._midPoint.x+cc.winSize.width*!this.isVertical,this._midPoint.y+cc.winSize.height*this.isVertical),this._finishPoint=cc.v2(this._midPoint.x-cc.winSize.width*!this.isVertical,this._midPoint.y-cc.winSize.height*this.isVertical),this._direction=this.isVertical?cc.v2(0,-1):cc.v2(-1,0)},start:function(){var t=this.node.getParent().getComponent("BackgroundMgr").scrollSpeed;t&&(this.scrollSpeed=t),this._bgFrameHolder1=cc.v2(this._midPoint),this._bgFrameHolder2=cc.v2(this._startPoint)},update:function(t){if(this._bgFrameHolder1.add(this._direction.mul(this.scrollSpeed),this._bgFrameHolder1),this._bgFrameHolder2.add(this._direction.mul(this.scrollSpeed),this._bgFrameHolder2),this.node.children[this._bgIdx1].setPosition(this._bgFrameHolder1.x,this._bgFrameHolder1.y),this.node.children[this._bgIdx2].setPosition(this._bgFrameHolder2.x,this._bgFrameHolder2.y),this.isReachFinish(this._bgFrameHolder1)){var e=this._bgFrameHolder1.sub(this._finishPoint);this._bgFrameHolder1.x=this._startPoint.x+e.x,this._bgFrameHolder1.y=this._startPoint.y+e.y,this._bgIdx1+=2,this._bgIdx1>this.node.childrenCount-1&&(this._bgIdx1=this._bgIdx1%this.node.childrenCount)}else if(this.isReachFinish(this._bgFrameHolder2)){var n=this._bgFrameHolder2.sub(this._finishPoint);this._bgFrameHolder2.x=this._startPoint.x+n.x,this._bgFrameHolder2.y=this._startPoint.y+n.y,this._bgIdx2+=2,this._bgIdx2>this.node.childrenCount-1&&(this._bgIdx2=this._bgIdx2%this.node.childrenCount)}},isReachFinish:function(t){return this._finishPoint.sub(t).dot(this._direction)<0}}),cc._RF.pop()},{}],Enum:[function(t,e,n){"use strict";cc._RF.push(e,"953e7HiZAJHeKkFuhGAKGKs","Enum");var i=cc.Enum({lost:0,won:1}),o=cc.Enum({heal:0,attackSpeed:1,upgrade:2});e.exports.levelResult=i,e.exports.award=o,cc._RF.pop()},{}],FlyBySpawn:[function(t,e,n){"use strict";cc._RF.push(e,"9b2d7UqeulMKLnRPl6/aUke","FlyBySpawn");var i=t("../PatternBase"),o=t("../../Spawner"),s=cc.Class({extends:i,properties:{},onLoad:function(){this._spawner=this.node.getComponent(o),this._spawner&&(this._spawner.repeatOnFinishSpawning=!0)},getTween:function(t){return cc.tween().call(function(t){t.emit("ready")}).then(this._super(t)).call(function(t){t.emit("dead")})}});e.exports=s,cc._RF.pop()},{"../../Spawner":"Spawner","../PatternBase":"PatternBase"}],GameMgr:[function(t,e,n){"use strict";cc._RF.push(e,"f706fR/R4pMI7Mqs2ViABYy","GameMgr");var i=cc.Class({name:"PlayerProfile",properties:{currentLevel:0,rank:[cc.Interger]}});cc.Class({extends:cc.Component,properties:{_isProfileLoaded:!1,playerProfile:{type:i,default:null}},onLoad:function(){cc.game.addPersistRootNode(this.node),this._isProfileLoaded||this.loadProfile()},loadProfile:function(){this.playerProfile=new i,"undefined"==typeof FBInstant?(this.playerProfile.currentLevel=1,this.playerProfile.rank=[0,0,0]):FBInstant.player.getDataAsync(["currentLevel","rank"]).then(function(t){this.playerProfile.currentLevel=t.currentLevel||1,this.playerProfile.rank=t.rank||[0,0,0]}.bind(this)).catch(function(t){}),this._isProfileLoaded=!0},updateProfile:function(t,e){var n=Number(t.slice(5));n==this.playerProfile.currentLevel&&(this.playerProfile.currentLevel+=1),this.playerProfile.rank[n-1]<e&&(this.playerProfile.rank[n-1]=e),"undefined"!=typeof FBInstant&&FBInstant.player.setDataAsync({currentLevel:this.playerProfile.currentLevel,rank:this.playerProfile.rank}).then(function(){console.log("data is set")})},loadSceneWithTransition:function(t){var e=this;cc.tween(this.node).to(.2,{opacity:255}).call(function(){cc.director.loadScene(t,e.onSceneLauched.bind(e))}).start()},onSceneLauched:function(){cc.tween(this.node).to(.2,{opacity:0}).start()}}),cc._RF.pop()},{}],GameplayMgr:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"500f8xGSI1BD4459V78oYRi","GameplayMgr");var r=t("./Enum").levelResult,a=(t("./Enum").award,cc.Class({name:"poolSetting",properties:{prefab:cc.Prefab,initCount:0}}));cc.Class({extends:cc.Component,properties:{awards:{default:[],type:[cc.Prefab]},pools:{type:[a],default:[]},_pools:{default:[],type:[cc.NodePool]},_totalShootDown:0,_totalSpawnUnit:0,_runningSpawners:[],pauseMenu:cc.Node},onLoad:function(){for(var t,e,n,o,s=i(this.pools);!(o=s()).done;){var r=o.value;if(e=r.initCount,r.prefab.data._components[1]){for((t=new cc.NodePool(r.prefab.data._components[1].constructor)).name=r.prefab.data.name,n=0;n<e;n++)t.put(cc.instantiate(r.prefab));this._pools.push(t)}}cc.director.getCollisionManager().enabled=!0,this.node.on("GameOver",this.onGameOver,this),this.node.on("MCHealthChanged",this.onMCHealthChanged,this),this.node.on("OpponentDown",this.onOpponentDown,this)},getPool:function(t){for(var e,n=i(this._pools);!(e=n()).done;){var o=e.value;if(o.name===t)return o}return null},onGameOver:function(t){var e=this.evaluateResult();t.getUserData().result==r.won?(this.pauseMenu.emit("GameOver",r.won,e),cc.find("GameMgr")&&cc.find("GameMgr").getComponent("GameMgr").updateProfile(cc.director.getScene().name,e)):this.pauseMenu.emit("GameOver",r.lost,0);for(var n,o=i(this._runningSpawners);!(n=o()).done;){n.value.node.destroy()}},onMCHealthChanged:function(t){this.pauseMenu.emit("MCHealthChanged",t.getUserData())},onOpponentDown:function(t){t.getUserData().isShootDown&&this._totalShootDown++},dropAward:function(t,e){var n=cc.instantiate(this.awards[t]);this.node.addChild(n),n.setPosition(e)},evaluateResult:function(){return 3},removeSpawner:function(t){this._runningSpawners=this._runningSpawners.filter(function(t){return t.node.active})}}),cc._RF.pop()},{"./Enum":"Enum"}],GridSpawn:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"f5c5amOY8lDRrGZyPaGIEZa","GridSpawn");var r=t("./StayOnSpawn"),a=cc.Enum({fromNearSide:0,fromFarSide:1,fromBehind:2}),c=cc.Enum({OneByOne:0,Pair:1,Half:3,All:4});cc.Class({extends:r,properties:{_stopPoints:{default:[],type:[cc.Vec2]},offset:150,row:{default:0,displayName:"row",tooltip:"number of rows",step:1},col:{default:0,displayName:"column",tooltip:"number of columns",step:1},rowDistance:50,colDistance:50,topMargin:50,leftMargin:50,launchOption:{default:a.fromNearSide,type:a},groupOption:{default:c.OneByOne,type:c},indexes:[cc.Integer]},onLoad:function(){this._super(),this._numTotal=this.row*this.col,this._numEachSpawn=1,this.initSpawnAmount();var t=0;for(this.initStopPoints();t<this._numTotal;t++)if(this.indexes.length>0)for(var e,n=i(this.indexes);!(e=n()).done;){e.value===t&&this._tweens.push(cc.tween().then(this.launch(this._stopPoints[t])).then(this.fly(this._stopPoints[t])))}else this._tweens.push(cc.tween().then(this.launch(this._stopPoints[t])).then(this.fly(this._stopPoints[t])));this.indexes.length>0&&(this._numTotal=this.indexes.length)},initStopPoints:function(){for(var t=0;t<this._numTotal;t++)this._stopPoints.push(cc.v2(this.leftMargin+t%this.col*this.colDistance,cc.winSize.height-this.topMargin-Math.floor(t/this.col)*this.rowDistance));this._stopPoints.sort(function(t,e){return Math.abs(t.x-cc.winSize.width/2)-Math.abs(e.x-cc.winSize.width/2)})},initSpawnAmount:function(){this.groupOption==c.OneByOne?this._numEachSpawn=1:this.groupOption==c.Pair?this._numEachSpawn=2:this.groupOption==c.Half?this._numEachSpawn=this._numTotal/2:this._numEachSpawn=this._numTotal},launch:function(t){return this.launchOption==a.fromBehind?cc.tween().call(this.disableColliderCB).set({position:cc.v2(t.x,-this.offset),color:new cc.Color(100,100,100)}):t.x>=cc.winSize.width/2^this.launchOption?cc.tween().set({position:cc.v2(cc.winSize.width+this.offset,t.y)}):cc.tween().set({position:cc.v2(-this.offset,t.y)})},fly:function(t){return this.launchOption==a.fromBehind?cc.tween().to(2,{y:this.offset}).delay(2).to(2,{y:cc.winSize.height+this.offset}).call(this.enableColliderCB).set({color:new cc.Color(255,255,255)}).by(0,{angle:180}).to(2,{y:t.y}):cc.tween().to(2,{position:t})},disableColliderCB:function(t){var e=t.getComponent(cc.Collider);e&&(e.enabled=!1)},enableColliderCB:function(t){var e=t.getComponent(cc.Collider);e&&(e.enabled=!0)}}),cc._RF.pop()},{"./StayOnSpawn":"StayOnSpawn"}],GunBase:[function(t,e,n){"use strict";cc._RF.push(e,"849a8CbJXJAg7C/mN3oV3UZ","GunBase");var i=t("../bullets/BulletBase"),o=cc.Class({name:"GunBase",properties:{_pool:{default:null,type:cc.NodePool},_gameplayMgr:null,bullet:{default:null,type:cc.Prefab,notify:function(){this.bullet||(this.target=null)}},target:{default:null,type:cc.Node,visible:function(){return this.bullet&&this.bullet.data.getComponent(i).hasOwnProperty("target")}},shotPoints:{default:[],type:[cc.Vec2],tooltip:"relative to each gun barrel by world position, use for multi shot. (0,0) will fire bullets at gun barrel position"},damage:1,speed:{default:5,range:[1,10,1]}},init:function(){this._gameplayMgr=cc.find("Canvas/GameplayLayer").getComponent("GameplayMgr"),this._pool=this._gameplayMgr.getPool(this.bullet.data.name)}});e.exports=o,cc._RF.pop()},{"../bullets/BulletBase":"BulletBase"}],Gun:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"68d35tBd05GpZRUsG+Q1R40","Gun");var r=t("./GunBase"),a=t("./OneDirectionGun"),c=t("./MultiDirectionGun"),h=(t("../Utils"),cc.Enum({OneDirectionGun:0,MultiDirectionGun:1})),l=[a,c],u=cc.Class({name:"GunData",properties:{gunOption:{default:h.OneDirectionGun,type:h,notify:function(){this.gunOption!=h.none&&(this.gun=new l[this.gunOption])}},gun:{default:null,type:r,notify:function(){this.gun&&"GunBase"==this.gun.constructor.name&&(this.gun=new l[this.gunOption])}}}}),p=cc.Class({extends:cc.Component,properties:{gunBarrelPosition:{default:[],type:[cc.Vec2],tooltip:"local gun barrel positions, use along with node's anchor to calculate directions"},isRandomShotInterval:{default:!1},shotInterval:{default:.2,visible:function(){return!this.isRandomShotInterval}},currentGunIdx:0,gunList:{default:[],type:[u]}},onLoad:function(){for(var t,e=i(this.gunList);!(t=e()).done;){t.value.gun.init()}},copy:function(t){this.gunList=t.gunList,this.gunBarrelPosition=t.gunBarrelPosition,this.shotInterval=t.shotInterval,this.isRandomShotInterval=t.isRandomShotInterval},fire:function(){for(var t,e,n=i(this.gunBarrelPosition);!(e=n()).done;){var o=e.value;t=this.node.convertToWorldSpaceAR(o).sub(this.node.getPosition()),this.gunList[this.currentGunIdx].gun.fire(this.node.convertToWorldSpaceAR(o),t)}this.isRandomShotInterval&&this.autoFire()},autoFire:function(){this.enabled&&(this.isRandomShotInterval?(this.unschedule(this.fire),this.schedule(this.fire,3*Math.random())):this.schedule(this.fire,this.shotInterval,cc.macro.REPEAT_FOREVER,0))},stop:function(){this.unschedule(this.fire)},switchGun:function(t){t<0||t>this.gunList.length-1||(this.currentGunIdx=t,cc.director.getScheduler().isScheduled(this.fire,this)&&this.autoFire())},updateShotInterval:function(t){t>0&&(this.shotInterval=t,cc.director.getScheduler().isScheduled(this.fire,this)&&this.autoFire())}});e.exports=p,cc._RF.pop()},{"../Utils":"Utils","./GunBase":"GunBase","./MultiDirectionGun":"MultiDirectionGun","./OneDirectionGun":"OneDirectionGun"}],Item:[function(t,e,n){"use strict";cc._RF.push(e,"b0108WhC9BHNZMQ0nA9mXcA","Item");var i=t("./MainCharacter"),o=t("./Enum").award,s=(Object.assign({},o),cc.Class({extends:cc.Component,properties:{dropSpeed:1,type:{default:o.heal,type:o},_minSpeed:100,_speedStep:50,_offset:150},update:function(t){this.isLost()&&this.node.destroy(),this.node.y+=-1*(this._minSpeed+this._speedStep*this.dropSpeed)*t},isLost:function(){var t=this.node.getPosition();return t.x<-this._offset||t.y<-this._offset||t.y>cc.winSize.height+this._offset},onCollisionEnter:function(t,e){this.type==o.heal?t.node.getComponent(i).gainHealth(1):this.type==o.upgrade?t.node.getComponent(i).upgradeGun():t.node.getComponent(i).upgradeAttackSpeed(),this.node.destroy()}}));e.exports=s,cc._RF.pop()},{"./Enum":"Enum","./MainCharacter":"MainCharacter"}],LevelInfoPageTemplate:[function(t,e,n){"use strict";cc._RF.push(e,"c586apc2dZPn5OwIOnXGIHy","LevelInfoPageTemplate"),cc.Class({extends:cc.Component,properties:{title:cc.Label,avatar:cc.Sprite,levelState:cc.Node,stars:[cc.Sprite]},setRanked:function(t,e){if(t)for(var n=t;n>0;)this.stars[n-1].spriteFrame=e,n--},setState:function(t){}}),cc._RF.pop()},{}],LevelSelectionMenu:[function(t,e,n){"use strict";cc._RF.push(e,"a049dfVsjdEP77uzAen8JMH","LevelSelectionMenu");var i=cc.Class({name:"page",properties:{title:"",avatar:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{levelMenu:cc.Node,pageInfos:{type:[i],default:[]},pageTemplate:cc.Prefab,playSF:cc.SpriteFrame,lockedSF:cc.SpriteFrame,commingSF:cc.SpriteFrame,goldenStarSF:cc.SpriteFrame},onLoad:function(){for(var t=cc.find("GameMgr").getComponent("GameMgr").playerProfile,e=this.pageInfos.length,n=0;n<e;n++){var i=cc.instantiate(this.pageTemplate),o=i.getComponent("LevelInfoPageTemplate");if(o.title.string=this.pageInfos[n].title,o.avatar.spriteFrame=this.pageInfos[n].avatar,n<t.currentLevel){var s=new cc.Component.EventHandler;s.target=this.node,s.component="LevelSelectionMenu",s.handler="onPlayBtnClick",s.customEventData=n+1,o.levelState.getComponent(cc.Sprite).spriteFrame=this.playSF,o.levelState.getComponent(cc.Button).clickEvents.push(s)}else n===e-1?(o.levelState.getComponent(cc.Sprite).spriteFrame=this.commingSF,o.levelState.getComponent(cc.Button).enabled=!1):(o.levelState.getComponent(cc.Sprite).spriteFrame=this.lockedSF,o.levelState.getComponent(cc.Button).enabled=!1);o.setRanked(t.rank[n],this.goldenStarSF),this.levelMenu.getComponent(cc.PageView).content.width+=i.width,this.levelMenu.getComponent(cc.PageView).addPage(i)}},onPlayBtnClick:function(t,e){cc.find("GameMgr").getComponent("GameMgr").loadSceneWithTransition("Level"+e)},onPrevBtnCLick:function(){var t=this.levelMenu.getComponent(cc.PageView).getCurrentPageIndex();this.levelMenu.getComponent(cc.PageView).scrollToPage(t-1)},onNextBtnClick:function(){var t=this.levelMenu.getComponent(cc.PageView).getCurrentPageIndex();this.levelMenu.getComponent(cc.PageView).scrollToPage(t+1)},onBackBtnClick:function(){cc.find("GameMgr").getComponent("GameMgr").loadSceneWithTransition("MainMenu")}}),cc._RF.pop()},{}],LockTargetBullet:[function(t,e,n){"use strict";cc._RF.push(e,"a2f3aIUyLxN6KWPOT2tgtwS","LockTargetBullet");var i=t("./BulletBase");cc.Class({extends:i,properties:{duration:5,turnRate:1,target:cc.Node,_anim:null,_isDead:!1},onLoad:function(){this._anim=this.node.getComponent(cc.Animation),this._offset=400},onEnable:function(){this._anim&&this._anim.play(),this.direction=this.direction.normalize(),this.node.angle=-cc.misc.radiansToDegrees(this.direction.signAngle(cc.v2(0,1))),this.scheduleOnce(this.onTimeOut,this.duration)},onTimeOut:function(){this.blowUp()},update:function(t){var e,n,i;this.isLost()&&(this.unscheduleAllCallbacks(),this._pool.put(this.node)),!this._isDead&&this.target&&(e=this.target.getPosition().sub(this.node.getPosition()),n=cc.misc.radiansToDegrees(this.direction.signAngle(e)),Math.abs(n)>2&&(i=n/Math.abs(n)*this.turnRate,this.node.angle+=i,this.direction=this.direction.rotate(cc.misc.degreesToRadians(i))),this.node.x+=this.direction.x*(this._minSpeed+this._speedStep*this.speed)*t,this.node.y+=this.direction.y*(this._minSpeed+this._speedStep*this.speed)*t)},isLost:function(){var t=this.node.getPosition();return t.x<-this._offset||t.x>cc.winSize.width+this._offset||t.y<-this._offset||t.y>cc.winSize.height+this._offset},onCollisionEnter:function(t,e){t.node.getComponent(i)||this.blowUp()},blowUp:function(){this._isDead=!0,this.unscheduleAllCallbacks(),this.node.getComponent(cc.Collider).enabled=!1,this._anim.play(this._anim._clips[1].name)},onExplosionFinish:function(){this._pool.put(this.node)},unuse:function(){this._super(),this.node.getComponent(cc.Collider).enabled=!0,this._isDead=!1}}),cc._RF.pop()},{"./BulletBase":"BulletBase"}],MainCharacter:[function(t,e,n){"use strict";cc._RF.push(e,"df96bSKCKhIJLzvBIQoPv7A","MainCharacter");var i,o=t("./guns/Gun"),s=t("./bullets/BulletBase"),r=t("./Enum").levelResult,a=cc.Class({extends:cc.Component,properties:{_collider:cc.PolygonCollider,_currentTouch:cc.Vec2,_enabledMove:!1,_threshold:{default:10},minShotInterval:.2,maxShotInterval:.6,shotIntervalStep:.1,_gun:null,_anim:null,moveSpeed:{default:5,range:[1,10,1],tooltip:"movement speed"},maxHP:6,currentHP:6},onLoad:function(){this._collider=this.node.getComponent(cc.PolygonCollider),this._gun=this.node.getComponent(o),this._anim=this.node.getComponent(cc.Animation),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this._currentTouch=this.node.getPosition()},onTouchStart:function(t,e){var n=t.getLocation();cc.Intersection.pointInPolygon(n,this._collider.world.points)&&(this._enabledMove=!0),this._gun&&this._gun.autoFire()},onTouchMove:function(t,e){this._enabledMove&&(this._currentTouch=t.getLocation())},onTouchEnd:function(t,e){this._gun&&this._gun.stop()},onTouchCancel:function(t,e){this._currentTouch=this.node.getPosition(),this._enabledMove=!1,this._gun&&this._gun.stop()},update:function(t){var e=this._currentTouch.sub(this.node.getPosition());e.len()>this._threshold&&(this.node.x+=e.normalize().x*(100+25*this.moveSpeed)*t,this.node.y+=e.normalize().y*(100+25*this.moveSpeed)*t)},upgradeGun:function(){this._gun.switchGun(this._gun.currentGunIdx+1)},degradeGun:function(){this._gun.switchGun(this._gun.currentGunIdx-1)},upgradeAttackSpeed:function(){this._gun.shotInterval-this.shotIntervalStep<this.minShotInterval||this._gun.updateShotInterval(this._gun.shotInterval-this.shotIntervalStep)},degradeAttackSpeed:function(){this._gun.shotInterval+this.shotIntervalStep>this.maxShotInterval||this._gun.updateShotInterval(this._gun.shotInterval+this.shotIntervalStep)},immunize:function(){var t=this;this._collider.enabled=!1,cc.tween(this.node).blink(2,10).call(function(){t._collider.enabled=!0}).start()},takeDamage:function(t){if(this.currentHP-=t,this.currentHP>0){this.immunize(),this.degradeGun(),this.degradeAttackSpeed();var e=new cc.Event.EventCustom("MCHealthChanged",!0);e.setUserData(this.currentHP),this.node.dispatchEvent(e)}else this._gun&&this._gun.stop(),this._collider.enabled=!1,this._anim.play("mcExplosionAnim")},gainHealth:function(t){if(!(this.currentHP+t>this.maxHP)){this.currentHP++;var e=new cc.Event.EventCustom("MCHealthChanged",!0);e.setUserData(this.currentHP),this.node.dispatchEvent(e)}},onCollisionEnter:function(t,e){t.node.getComponent(s)?this.takeDamage(t.node.getComponent(s).damage):t.node.getComponent(i)&&this.takeDamage(1)},onExplosionFinish:function(){var t=new cc.Event.EventCustom("GameOver",!0);t.setUserData({result:r.lost}),this.node.dispatchEvent(t),this.node.destroy()}});e.exports=a,i=t("./Opponent"),cc._RF.pop()},{"./Enum":"Enum","./Opponent":"Opponent","./bullets/BulletBase":"BulletBase","./guns/Gun":"Gun"}],MainMenu:[function(t,e,n){"use strict";cc._RF.push(e,"7fde7RbjE1EPKApiEsLqitO","MainMenu"),cc.Class({extends:cc.Component,properties:{},onBtnStartClick:function(){cc.find("GameMgr").getComponent("GameMgr").loadSceneWithTransition("LevelSelectionMenu")}}),cc._RF.pop()},{}],MultiDirectionGun:[function(t,e,n){"use strict";cc._RF.push(e,"9119fGRq+1Czrj+Hcji8vYO","MultiDirectionGun");var i=t("./GunBase"),o=t("../bullets/BulletBase"),s=cc.Class({name:"MultiDirectionGun",extends:i,properties:{spreadLine:4,spreadAngle:10},init:function(){this._super()},fire:function(t,e){if(this._pool)for(var n,i=(this.spreadLine-1)*this.spreadAngle/2,s=e.rotate(cc.misc.degreesToRadians(i)),r=0;r<this.spreadLine;r++)(n=0===this._pool.size()?cc.instantiate(this.bullet):this._pool.get(this.bullet)).x=t.x,n.y=t.y,n.getComponent(o).direction=s.rotate(cc.misc.degreesToRadians(-this.spreadAngle*r)),n.getComponent(o).damage=this.damage,n.getComponent(o).speed=this.speed,n.getComponent(o)._pool=this._pool,n.getComponent(o).hasOwnProperty("target")&&(n.getComponent(o).target=this.target),this._gameplayMgr.node.addChild(n)}});e.exports=s,cc._RF.pop()},{"../bullets/BulletBase":"BulletBase","./GunBase":"GunBase"}],OneDirectionGun:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"67db9A11RND2qkUkWJGO2Wa","OneDirectionGun");var r=t("./GunBase"),a=t("../bullets/BulletBase"),c=cc.Class({name:"OneDirectionGun",extends:r,init:function(){this._super()},fire:function(t,e){if(this._pool)for(var n,o,s=i(this.shotPoints);!(o=s()).done;){var r=o.value;(n=0===this._pool.size()?cc.instantiate(this.bullet):this._pool.get(this.bullet)).x=t.x+r.x,n.y=t.y+r.y;n.getComponent(a);n.getComponent(a).direction=e,n.getComponent(a).damage=this.damage,n.getComponent(a).speed=this.speed,n.getComponent(a)._pool=this._pool,n.getComponent(a).hasOwnProperty("target")&&(n.getComponent(a).target=this.target),this._gameplayMgr.node.addChild(n)}else cc.warn("no bullet pool are found")}});e.exports=c,cc._RF.pop()},{"../bullets/BulletBase":"BulletBase","./GunBase":"GunBase"}],Opponent:[function(t,e,n){"use strict";cc._RF.push(e,"9db5fru795Fq5oATV1Wekaq","Opponent");var i,o=t("./patrol/Patrol"),s=t("./guns/Gun"),r=t("./bullets/BulletBase"),a=cc.Class({extends:cc.Component,properties:{HP:0,isAimPlayer:{default:!1,notify:function(){this.isAimPlayer||(this.target=null)}},target:{default:null,type:cc.Node,visible:function(){return this.isAimPlayer}},_ready:!1,_gun:null,_animn:null,_isShootDown:!1},onLoad:function(){this._anim=this.node.getComponent(cc.Animation),this._gun=this.node.getComponent(s),this.node.on("ready",this.onReady.bind(this)),this.node.on("retreat",this.onRetreat.bind(this)),this.node.on("dead",this.blowUp.bind(this))},start:function(){this._anim&&this._anim.play()},reuse:function(t){this.node.angle=t.angle,this.node.scale=t.scale,this.node.opacity=t.opacity,this.node.getComponent(cc.Collider).enabled=!0,this.copy(t.getComponent(this.constructor)),this.node.getComponent(o)&&this.node.getComponent(o).copy(t.getComponent(o)),this.node.getComponent(s)&&this.node.getComponent(s).copy(t.getComponent(s))},update:function(t){if(this.isAimPlayer&&this._ready&&this.target){var e=this.target.getPosition().sub(this.node.getPosition()),n=this.node.convertToWorldSpaceAR(cc.v2(0,1)).sub(this.node.getPosition()),i=cc.misc.radiansToDegrees(n.signAngle(e));Math.abs(this.node.angle-i)>5&&(this.node.angle+=i/Math.abs(i))}},copy:function(t){this._anim&&this._anim.play(),this.HP=t.HP,this.isAimPlayer=t.isAimPlayer,this.target=t.target,this._isShootDown=!1},unuse:function(){this.node.x=-50,this.node.y=-50},onReady:function(){this._ready=!0,this._gun&&this._gun.autoFire()},onRetreat:function(){this._gun&&this._gun.stop()},takeDamage:function(t){this.HP-=t,this.HP<=0&&(this._isShootDown=!0,this.blowUp(),this.HP=100)},blowUp:function(){if(this.node.cleanup(),this.ready=!1,this._gun&&this._gun.stop(),this.node.getComponent(cc.Collider).enabled=!1,this._anim)this._anim.play(this._anim._clips[1].name);else{var t=new cc.Event.EventCustom("ExploisionFinish",!0);this.node.dispatchEvent(t)}var e=new cc.Event.EventCustom("OpponentDown",!0);e.setUserData({isShootDown:this._isShootDown}),this.node.dispatchEvent(e)},onCollisionEnter:function(t,e){t.node.getComponent(r)?this.takeDamage(t.node.getComponent(r).damage):t.node.getComponent(i)&&(this._isShootDown=!0,this.blowUp())},onExploisionFinish:function(){var t=new cc.Event.EventCustom("ExploisionFinish",!0);this.node.dispatchEvent(t)}});e.exports=a,i=t("./MainCharacter"),cc._RF.pop()},{"./MainCharacter":"MainCharacter","./bullets/BulletBase":"BulletBase","./guns/Gun":"Gun","./patrol/Patrol":"Patrol"}],Patrol:[function(t,e,n){"use strict";cc._RF.push(e,"057e3QQJ0FMbYyMmM9TX8RV","Patrol");var i=cc.Class({name:"PatrolBase",properties:{range:10,duration:1}}),o=cc.Class({name:"HorizontalPatrol",extends:i,properties:{direction:0},tween:function(){var t=cc.tween(),e=1;return 0===this.direction?t=t.by(this.duration,{position:cc.v2(-this.range/2,0)},{easing:"sineOut"}):e=this.direction/Math.abs(this.direction),t.repeatForever(cc.tween().by(2*this.duration,{position:cc.v2(e*this.range,0)},{easing:"sineInOut"}).by(2*this.duration,{position:cc.v2(-e*this.range,0)},{easing:"sineInOut"}))}}),s=cc.Class({name:"TrianglePatrol",extends:i,properties:{angle:0,clockwise:!1},tween:function(){var t=cc.v2(0,1).rotateSelf(cc.misc.degreesToRadians(-30+this.angle)).mulSelf(this.range),e=this.clockwise?t.rotate(2*-Math.PI/3):t.rotate(2*Math.PI/3),n=this.clockwise?e.rotate(2*-Math.PI/3):e.rotate(2*Math.PI/3);return cc.tween().repeatForever(cc.tween().by(this.duration/3,{position:t}).by(this.duration/3,{position:e}).by(this.duration/3,{position:n}))}}),r=cc.Class({name:"SelfRotatePatrol",extends:i,properties:{range:{default:0,visible:!1,override:!0},duration:{default:0,range:[1,10,1],displayName:"speed",override:!0},clockwise:!1},tween:function(){return cc.tween().repeatForever(cc.tween().by(.1,{angle:5*this.duration}))}}),a=cc.Class({name:"CircularPatrol",extends:i,tween:function(){return cc.tween().repeatForever(cc.tween().parallel(cc.tween().by(this.duration,{x:2*-this.range},{easing:"sineInOut"}),cc.tween().by(this.duration/2,{y:this.range},{easing:"sineOut"}).by(this.duration/2,{y:-this.range},{easing:"sineIn"})).parallel(cc.tween().by(this.duration,{x:2*this.range},{easing:"sineInOut"}),cc.tween().by(this.duration/2,{y:-this.range},{easing:"sineOut"}).by(this.duration/2,{y:this.range},{easing:"sineIn"})))}}),c=cc.Enum({horizontalPatrol:0,trianglePatrol:1,selfRotatePatrol:2,circularPatrol:3}),h=[o,s,r,a],l=cc.Class({extends:cc.Component,properties:{patrolOption:{default:c.horizontalPatrol,type:c,notify:function(){this.patrol=new h[this.patrolOption]}},patrol:{default:null,type:i,notify:function(){this.patrol&&"PatrolBase"==this.patrol.constructor.name&&(this.patrol=new h[this.patrolOption])}}},onLoad:function(){this.node.on("ready",this.onReady.bind(this))},copy:function(t){t?(this.enabled=!0,this.patrol=t.patrol):this.enabled=!1},onReady:function(){this.enabled&&cc.tween(this.node).then(this.patrol.tween()).start()}});e.exports=l,cc._RF.pop()},{}],PatternBase:[function(t,e,n){"use strict";cc._RF.push(e,"a01010Z4YFLIL4C0j2+n/Ye","PatternBase");var i=cc.Class({extends:cc.Component,properties:{_tweens:{default:[],type:[cc.Tween]},_numTotal:0,_numEachSpawn:0},editor:{},getTween:function(t){return this._tweens[t].clone()}});e.exports=i,cc._RF.pop()},{}],PauseMenu:[function(t,e,n){"use strict";cc._RF.push(e,"ba9bflUWsNI9LkJDfb/mnFf","PauseMenu");var i=t("../Enum").levelResult;cc.Class({extends:cc.Component,properties:{title:cc.Label,hpLabel:cc.Label,pausedBtn:cc.Node,resumeBtn:cc.Node,restartBtn:cc.Node,menuBtn:cc.Node,stars:[cc.Node],goldenStarSP:cc.SpriteFrame,silverStarSP:cc.SpriteFrame},onLoad:function(){this.hpLabel.string=cc.find("Canvas/GameplayLayer/MainCharacter").getComponent("MainCharacter").currentHP,this.node.on("GameOver",this.onGameOVer,this),this.node.on("MCHealthChanged",this.onMCHealthChanged,this),this.node.active=!1},onPauseBtnClick:function(){cc.director.pause(),this.node.active=!0,this.resumeBtn.active=!0,this.title.string="Paused"},onResumeBtnClick:function(){this.resumeBtn.active=!1,this.node.active=!1,cc.director.resume()},onRestartBtnClick:function(){var t=cc.director.getScene();cc.find("GameMgr").getComponent("GameMgr").loadSceneWithTransition(t.name)},onMenuBtnClick:function(){cc.director.resume(),cc.find("GameMgr").getComponent("GameMgr").loadSceneWithTransition("LevelSelectionMenu")},onMCHealthChanged:function(t){this.hpLabel.string=""+t},onGameOVer:function(t,e){this.hpLabel.string="0",t==i.lost?this.showGameOver():this.showVitory(e)},showGameOver:function(){this.pausedBtn.getComponent(cc.Button).enabled=!1,this.node.active=!0,this.restartBtn.active=!0,this.title.string="Defeated",cc.tween(this.title.node).to(0,{scale:2.5}).to(1,{scale:1},{easing:"expoIn"}).start()},showVitory:function(t){this.pausedBtn.getComponent(cc.Button).enabled=!1,this.node.active=!0,this.restartBtn.active=!0,this.title.string="Victory",this.title.node.opacity=0,this.title.node.color=new cc.Color(255,255,100),cc.tween(this.title.node).to(1,{opacity:255},{easing:"expoIn"}).start();for(var e=0;e<3;e++)this.stars[e].getComponent(cc.Sprite).spriteFrame=e<t?this.goldenStarSP:this.silverStarSP,this.stars[e].scale=0,cc.tween(this.stars[e]).delay(.5*e).to(.5,{scale:1},{easing:"expoIn"}).start()}}),cc._RF.pop()},{"../Enum":"Enum"}],RetreatBase:[function(t,e,n){"use strict";cc._RF.push(e,"ae32fCssYBAOLACXXWU1hw8","RetreatBase");var i=cc.Class({extends:cc.Component,properties:{delay:10}});e.exports=i,cc._RF.pop()},{}],SideRetreat:[function(t,e,n){"use strict";cc._RF.push(e,"40682JfaNVFuKSav6PXWCsl","SideRetreat");var i=t("./RetreatBase");cc.Class({extends:i,properties:{},start:function(){},tween:function(t){return t.x<cc.winSize.width/2?cc.tween(t).by(3,{position:cc.v2(-cc.winSize.width/2-100,-cc.winSize.height/4),scale:-.1,opacity:-200},{easing:"sineIn"}):cc.tween(t).by(3,{position:cc.v2(cc.winSize.width/2+100,-cc.winSize.height/4),scale:-.1,opacity:-200},{easing:"sineIn"})}}),cc._RF.pop()},{"./RetreatBase":"RetreatBase"}],Spawner:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"8dba5cgSR1Cor9QY4xExd7V","Spawner");var r=t("./spawnpatterns/PatternBase"),a=(t("../external/fsm/app"),t("./Enum").levelResult),c=t("./Enum").award,h=cc.Enum({none:-2,Grid:0,Dropdown:1}),l=["GridSpawn","DropdownSpawn"],u=cc.Enum({none:-2,Side:0}),p=["SideRetreat"],d=cc.Class({extends:cc.Component,properties:{_currentSpawnIdx:0,_spawnPattern:null,_retreatPattern:null,_gameplayMgr:null,_deathCount:0,_shootDown:0,_cloneList:{default:[],type:[cc.Node]},_totalUnit:0,_repeatOnFinishSpawning:!1,protoList:{default:[],type:[cc.Node],displayName:"Prototypes",tooltip:"Prototypes use to generate objects for pattern"},delay:{default:0,tooltip:"delay before spawn"},useProto:{default:!1,tooltip:"use prototype objects (children) as candidate",notify:function(){this.useProto&&(this.repeat=0)}},repeat:{default:0,step:1,tooltip:"repeat on pattern complete if killOnFinish = true, on pattern clear if false. -1 will repeat spawning forever",visible:function(){return!this.useProto}},spawnInterval:{default:.5,tooltip:"the time interval between each spawn in second"},isdropItem:{default:!1,notify:function(){this.award=this.isdropItem?c.heal:null}},award:{default:c.heal,type:c,visible:function(){return this.isdropItem}},parallelSpawner:cc.Node,onSpawnFinishSpawner:cc.Node,onPatternCompleteSpawner:cc.Node,onPatternClearSpawner:cc.Node,onRetreatSpawner:cc.Node,spawnOption:{default:h.none,type:h,notify:function(t){t!=h.none&&this.node.removeComponent(l[t]),this.spawnOption!=h.none?this._spawnPattern=this.node.addComponent(l[this.spawnOption]):this.node.removeComponent(l[t])}},retreatOption:{default:u.none,type:u,notify:function(t){t!=u.none&&this.node.removeComponent(p[t]),this.retreatOption!=u.none?this._retreatPattern=this.node.addComponent(p[this.retreatOption]):this.node.removeComponent(p[t])}},playOnLoad:!1,lastSpawner:!1},editor:{disallowMultiple:!0},onLoad:function(){this._gameplayMgr=this.node.getParent().getComponent("GameplayMgr"),this._spawnPattern||(this._spawnPattern=this.node.getComponent(r)),this.node.on("OpponentDown",this.onOpponentDown,this),this.node.on("ExploisionFinish",this.onExploisionFinish,this)},start:function(){this._totalUnit=this._spawnPattern._numTotal*(this.repeat+1),this._gameplayMgr._totalSpawnUnit+=this._totalUnit,this._deathCount=0,this._shootDown=0,this.playOnLoad&&this.launch()},update:function(){},startSpawning:function(){var t;this._spawnPattern&&0!=this.protoList.length?(this.useProto&&(this._spawnPattern._numTotal=this.protoList.length),t=Math.floor(this._spawnPattern._numTotal/this._spawnPattern._numEachSpawn)+1*!!(this._spawnPattern._numTotal%this._spawnPattern._numEachSpawn),this.schedule(this.spawn,this.spawnInterval,t-1,this.delay)):console.log("Spawner and prototyps are required")},launch:function(){this.startSpawning(),this.parallelSpawner&&this.parallelSpawner.getComponent("Spawner").launch(),this._gameplayMgr._runningSpawners.push(this)},spawn:function(){for(var t,e=this._spawnPattern._numEachSpawn,n=this.protoList.length;e>0;){var i;if(t=this.protoList[this._currentSpawnIdx%n],i=this.duplicate(t),this.useProto||this.node.addChild(i),this.giveCommand(i),this._currentSpawnIdx==this._spawnPattern._numTotal-1){this.onSpawnFinish();break}e--,this._currentSpawnIdx++}},duplicate:function(t){if(this.useProto)return t;var e=this._gameplayMgr.getPool(t.name);return e&&0!=e.size()?e.get(t):cc.instantiate(t)},giveCommand:function(t){var e;e=cc.tween(t).then(this._spawnPattern.getTween(this._currentSpawnIdx)),this._currentSpawnIdx==this._spawnPattern._numTotal-1&&(e=e.call(this.onPatternComplete,this)),this._cloneList.push(t),e.start()},retreat:function(){for(var t,e=this,n=function(){var n=t.value,i=n;n.stopAllActions(),n.emit("retreat"),e._retreatPattern.tween(n).call(function(){e.reclaim(i)}).start()},o=i(this._cloneList);!(t=o()).done;)n();this.onRetreat()},reset:function(){this.unschedule(this.spawn),this._currentSpawnIdx=0,this._cloneList.length=0,this.schedule(this.startSpawning,0,0),this.repeat--},reclaim:function(t){var e=this._gameplayMgr.getPool(t.name);t.cleanup(),e?e.put(t):t.destroy(),this._deathCount++,this._deathCount!=this._totalUnit?this._deathCount!=this._totalUnit-this._spawnPattern._numTotal*this.repeat||this.repeatOnFinishSpawning||(this._spawnPattern._inPositionTargets.length=0,this._spawnPattern._deathCount=0,this.reset()):this.onPatternClear()},accountDeadUnit:function(t){this._cloneList=this._cloneList.filter(function(e){return e._id!=t._id})},onSpawnFinish:function(){this.onSpawnFinishSpawner&&this.onSpawnFinishSpawner.getComponent("Spawner").launch(),this.repeatOnFinishSpawning&&0!=this.repeat&&this.reset()},onPatternClear:function(){if(this.onPatternClearSpawner&&this.onPatternClearSpawner.getComponent("Spawner").launch(),this.lastSpawner){var t=new cc.Event.EventCustom("GameOver",!0);t.setUserData({result:a.won}),this.node.dispatchEvent(t)}this.node.destroy(),this._gameplayMgr.removeSpawner(this)},onPatternComplete:function(){this.onPatternCompleteSpawner&&this.onPatternCompleteSpawner.getComponent("Spawner").launch(),this._retreatPattern&&this.scheduleOnce(this.retreat,this._retreatPattern.delay)},onRetreat:function(){this.onRetreatSpawner&&this.onRetreatSpawner.getComponent("Spawner").launch()},onOpponentDown:function(t){t.getUserData().isShootDown&&(this._shootDown++,this.isdropItem&&this._shootDown==this._totalUnit&&this._gameplayMgr.dropAward(this.award,t.target.getPosition())),this.accountDeadUnit(t.target)},onExploisionFinish:function(t){this.reclaim(t.target)}});e.exports=d,cc._RF.pop()},{"../external/fsm/app":"app","./Enum":"Enum","./spawnpatterns/PatternBase":"PatternBase"}],StayOnSpawn:[function(t,e,n){"use strict";function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"b58a95f+eVNIIdmPGQTb60B","StayOnSpawn");var r=t("../PatternBase"),a=t("../../Spawner"),c=cc.Class({extends:r,properties:{isSyncAttack:{default:!0,displayName:" Sync Attack",tooltip:"Whether a spawn object attack when it's in position or the pattern completed"},_inPositionTargets:[],_lastUnitId:null,_spawner:null,_deathCount:0},onLoad:function(){this._spawner=this.node.getComponent(a),this.node.on("OpponentDown",this.onOpponentDown,this)},getTween:function(t){var e=this,n=this._super(t);return this.isSyncAttack?t==this._numTotal-1?cc.tween().call(function(t){e._lastUnitId=t._id}).then(n).call(this.onTargetReached.bind(this)):n.call(this.onTargetReached.bind(this)):n.call(function(t){t.emit("ready")})},onTargetReached:function(t){this._inPositionTargets.push(t),this._inPositionTargets.length==this._numTotal-this._deathCount&&this.Attack()},onOpponentDown:function(t){var e=this,n=this._inPositionTargets.find(function(t){return t._id==e._lastUnitId});this._inPositionTargets=this._inPositionTargets.filter(function(e){return e._id!=t.target._id}),this._deathCount++,t.target._id==this._lastUnitId&!n&&this._inPositionTargets.length==this._numTotal-this._deathCount&&this.Attack()},Attack:function(){for(var t,e=i(this._inPositionTargets);!(t=e()).done;){var n=t.value;n._activeInHierarchy&&n.emit("ready")}}});e.exports=c,cc._RF.pop()},{"../../Spawner":"Spawner","../PatternBase":"PatternBase"}],StraightBullet:[function(t,e,n){"use strict";cc._RF.push(e,"0054dW+pVFLqZFshrw+9BZS","StraightBullet");var i=t("./BulletBase");cc.Class({extends:i,properties:{},onEnable:function(){this.direction=this.direction.normalize(),this.node.angle=-cc.misc.radiansToDegrees(this.direction.signAngle(cc.v2(0,1)))},update:function(t){this.isLost()&&(this.node.cleanup(),this._pool.put(this.node)),this.node.x+=this.direction.x*(this._minSpeed+this._speedStep*this.speed)*t,this.node.y+=this.direction.y*(this._minSpeed+this._speedStep*this.speed)*t},isLost:function(){var t=this.node.getPosition();return t.x<-this._offset||t.x>cc.winSize.width+this._offset||t.y<-this._offset||t.y>cc.winSize.height+this._offset}}),cc._RF.pop()},{"./BulletBase":"BulletBase"}],Utils:[function(t,e,n){"use strict";cc._RF.push(e,"53f69XTI31Gs4iHQBwhtuG4","Utils");var i=cc.Class({name:"Utis",statics:{getRndInterger:function(t,e){return Math.floor(Math.random()*(e-t))+t}}});e.exports=i,cc._RF.pop()},{}],app:[function(t,e,n){"use strict";cc._RF.push(e,"6a636+d3/5I2qQY25E56ffK","app");var i=t("./util/mixin"),o=t("./util/camelize"),s=t("./plugin"),r=t("./config"),a=t("./jsm"),c={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,e,n){return this._fsm.onInvalidTransition(t,e,n)},onPendingTransition:function(t,e,n){return this._fsm.onPendingTransition(t,e,n)}},h={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error("use transitions to change state")}}};function l(t){return u(this||{},t)}function u(t,e){return p(t,new r(e,l)),t._fsm(),t}function p(t,e){if("object"!=typeof t||Array.isArray(t))throw Error("StateMachine can only be applied to objects");s.build(t,e),Object.defineProperties(t,h),i(t,c),i(t,e.methods),e.allTransitions().forEach(function(e){t[o(e)]=function(){return this._fsm.fire(e,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new a(this,e),this._fsm.init(arguments)}}l.version="3.0.1",l.factory=function(){var t,e;"function"==typeof arguments[0]?(t=arguments[0],e=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},e=arguments[0]||{});var n=new r(e,l);return p(t.prototype,n),t.prototype._fsm.config=n,t},l.apply=u,l.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=l,cc._RF.pop()},{"./config":"config","./jsm":"jsm","./plugin":"plugin","./util/camelize":"camelize","./util/mixin":"mixin"}],camelize:[function(t,e,n){"use strict";function i(t){if(0===t.length)return t;var e,n,i=t.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return t;for(n=i[0].toLowerCase(),e=1;e<i.length;e++)n=n+i[e].charAt(0).toUpperCase()+i[e].substring(1).toLowerCase();return n}cc._RF.push(e,"44073ELj8tFhbAS+6UAfNty","camelize"),i.prepended=function(t,e){return t+(e=i(e))[0].toUpperCase()+e.substring(1)},e.exports=i,cc._RF.pop()},{}],config:[function(t,e,n){"use strict";cc._RF.push(e,"001a1UtAtBL0aZjsuPA+2vA","config");var i=t("./util/mixin"),o=t("./util/camelize");function s(t,e){t=t||{},this.options=t,this.defaults=e.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,e.plugin)}i(s.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=o.prepended("onEnter",t),this.lifecycle.onLeave[t]=o.prepended("onLeave",t),this.lifecycle.on[t]=o.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=o.prepended("onBefore",t),this.lifecycle.onAfter[t]=o.prepended("onAfter",t),this.lifecycle.on[t]=o.prepended("on",t)},mapTransition:function(t){var e=t.name,n=t.from,i=t.to;return this.addState(n),"function"!=typeof i&&this.addState(i),this.addTransition(e),this.map[n][e]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(i({},this.defaults.init,{to:t,active:!0})):"object"==typeof t?this.mapTransition(i({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"==typeof t?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,e){var n,i,o;for(n=0,i=(t=t||[]).length;n<i;n++)"function"==typeof(o=t[n])&&(t[n]=o=o()),o.configure&&o.configure(this);return t},configureTransitions:function(t){var e,n,i,o,s,r=this.defaults.wildcard;for(n=0;n<t.length;n++)for(i=t[n],o=Array.isArray(i.from)?i.from:[i.from||r],s=i.to||r,e=0;e<o.length;e++)this.mapTransition({name:i.name,from:o[e],to:s})},transitionFor:function(t,e){var n=this.defaults.wildcard;return this.map[t][e]||this.map[n][e]},transitionsFor:function(t){var e=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[e]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=s,cc._RF.pop()},{"./util/camelize":"camelize","./util/mixin":"mixin"}],exception:[function(t,e,n){"use strict";cc._RF.push(e,"1ccfecGNy1BjJvZl9xOBTLM","exception"),e.exports=function(t,e,n,i,o){this.message=t,this.transition=e,this.from=n,this.to=i,this.current=o},cc._RF.pop()},{}],history:[function(t,e,n){"use strict";cc._RF.push(e,"9d298HQljhHGYuc5UNf/t/g","history");var i=t("../util/camelize");e.exports=function(t){var e=i((t=t||{}).name||t.past||"history"),n=i(t.future||"future"),o=i.prepended("clear",e),s=i.prepended(e,"back"),r=i.prepended(e,"forward"),a=i.prepended("can",s),c=i.prepended("can",r),h=t.max,l={configure:function(t){t.addTransitionLifecycleNames(s),t.addTransitionLifecycleNames(r)},init:function(t){t[e]=[],t[n]=[]},lifecycle:function(t,i){"onEnterState"===i.event&&(t[e].push(i.to),h&&t[e].length>h&&t[e].shift(),i.transition!==s&&i.transition!==r&&(t[n].length=0))},methods:{},properties:{}};return l.methods[o]=function(){this[e].length=0,this[n].length=0},l.properties[a]={get:function(){return this[e].length>1}},l.properties[c]={get:function(){return this[n].length>0}},l.methods[s]=function(){if(!this[a])throw Error("no history");var t=this[e].pop(),i=this[e].pop();this[n].push(t),this._fsm.transit(s,t,i,[])},l.methods[r]=function(){if(!this[c])throw Error("no history");var t=this.state,e=this[n].pop();this._fsm.transit(r,t,e,[])},l},cc._RF.pop()},{"../util/camelize":"camelize"}],jsm:[function(t,e,n){"use strict";cc._RF.push(e,"96039fZhKxH7KftQxlYi8mW","jsm");var i=t("./util/mixin"),o=t("./util/exception"),s=t("./plugin"),r=[null,[]];function a(t,e){this.context=t,this.config=e,this.state=e.init.from,this.observers=[t]}i(a.prototype,{init:function(t){if(i(this.context,this.config.data.apply(this.context,t)),s.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,e){var n=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,t),o=i&&i.to;return"function"==typeof o?o.apply(this.context,e):o===n?this.state:o},fire:function(t,e){return this.transit(t,this.state,this.seek(t,e),e)},transit:function(t,e,n,i){var o=this.config.lifecycle,s=this.config.options.observeUnchangedState||e!==n;return n?this.isPending()?this.context.onPendingTransition(t,e,n):(this.config.addState(n),this.beginTransit(),i.unshift({transition:t,from:e,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(o.onBefore.transition),this.observersForEvent(o.onBefore[t]),s?this.observersForEvent(o.onLeave.state):r,s?this.observersForEvent(o.onLeave[e]):r,this.observersForEvent(o.on.transition),s?["doTransit",[this]]:r,s?this.observersForEvent(o.onEnter.state):r,s?this.observersForEvent(o.onEnter[n]):r,s?this.observersForEvent(o.on[n]):r,this.observersForEvent(o.onAfter.transition),this.observersForEvent(o.onAfter[t]),this.observersForEvent(o.on[t])],i)):this.context.onInvalidTransition(t,e,n)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var e={};e[t[0]]=t[1],this.observers.push(e)}else this.observers.push(t[0])},observersForEvent:function(t){for(var e,n=0,i=this.observers.length,o=[];n<i;n++)(e=this.observers[n])[t]&&o.push(e);return[t,o,!0]},observeEvents:function(t,e,n,i){if(0===t.length)return this.endTransit(void 0===i||i);var o=t[0][0],r=t[0][1],a=t[0][2];if(e[0].event=o,o&&a&&o!==n&&s.hook(this,"lifecycle",e),0===r.length)return t.shift(),this.observeEvents(t,e,o,i);var c=r.shift(),h=c[o].apply(c,e);return h&&"function"==typeof h.then?h.then(this.observeEvents.bind(this,t,e,o)).catch(this.failTransit.bind(this)):!1===h?this.endTransit(!1):this.observeEvents(t,e,o,h)},onInvalidTransition:function(t,e,n){throw new o("transition is invalid in current state",t,e,n,this.state)},onPendingTransition:function(t,e,n){throw new o("transition is invalid while previous transition is still in progress",t,e,n,this.state)}}),e.exports=a,cc._RF.pop()},{"./plugin":"plugin","./util/exception":"exception","./util/mixin":"mixin"}],mixin:[function(t,e,n){"use strict";cc._RF.push(e,"2e058m5XelCrqt7A3FZ+7h1","mixin"),e.exports=function(t,e){var n,i,o;for(n=1;n<arguments.length;n++)for(o in i=arguments[n])i.hasOwnProperty(o)&&(t[o]=i[o]);return t},cc._RF.pop()},{}],plugin:[function(t,e,n){"use strict";cc._RF.push(e,"e1151piIXBPiLqi1VT2sJ6l","plugin");var i=t("./util/mixin");e.exports={build:function(t,e){var n,o,s,r=e.plugins;for(n=0,o=r.length;n<o;n++)(s=r[n]).methods&&i(t,s.methods),s.properties&&Object.defineProperties(t,s.properties)},hook:function(t,e,n){var i,o,s,r,a=t.config.plugins,c=[t.context];for(n&&(c=c.concat(n)),i=0,o=a.length;i<o;i++)r=a[i],(s=a[i][e])&&s.apply(r,c)}},cc._RF.pop()},{"./util/mixin":"mixin"}],visualize:[function(t,e,n){"use strict";cc._RF.push(e,"13585iI7IdA6LcktHn65AJ8","visualize");var i=t("../util/mixin");function o(t,e){return c(s(t,e))}function s(t,e){e=e||{};var n=s.fetch(t),i=e.name,o=s.rankdir(e.orientation),r=s.states(n,e),a=s.transitions(n,e),c={};return i&&(c.name=i),o&&(c.rankdir=o),r&&r.length>0&&(c.states=r),a&&a.length>0&&(c.transitions=a),c}function r(t){return" "+t+" "}function a(t){return'"'+t+'"'}function c(t){var e,n,i=(t=t||{}).name||"fsm",o=t.states||[],s=t.transitions||[],r=t.rankdir,h=[];for(h.push("digraph "+a(i)+" {"),r&&h.push("  rankdir="+r+";"),e=0,n=o.length;e<n;e++)h.push(c.state(o[e]));for(e=0,n=s.length;e<n;e++)h.push(c.edge(s[e]));return h.push("}"),h.join("\n")}s.fetch=function(t){return"function"==typeof t?t.prototype._fsm.config:t._fsm.config},s.rankdir=function(t){return"horizontal"===t?"LR":"vertical"===t?"TB":void 0},s.states=function(t,e){var n,i=t.states;return e.init||(n=i.indexOf(t.init.from),i=i.slice(0,n).concat(i.slice(n+1))),i},s.transitions=function(t,e){var n,i,o,r=t.init,a=t.options.transitions||[],c=[];for(e.init&&r.active&&s.transition(r.name,r.from,r.to,r.dot,t,e,c),n=0,i=a.length;n<i;n++)o=t.options.transitions[n],s.transition(o.name,o.from,o.to,o.dot,t,e,c);return c},s.transition=function(t,e,n,o,a,c,h){var l,u,p=a.defaults.wildcard;if(Array.isArray(e))for(l=0,u=e.length;l<u;l++)s.transition(t,e[l],n,o,a,c,h);else if(e===p||void 0===e)for(l=0,u=a.states.length;l<u;l++)s.transition(t,a.states[l],n,o,a,c,h);else n===p||void 0===n?s.transition(t,e,e,o,a,c,h):"function"==typeof n||h.push(i({},{from:e,to:n,label:r(t)},o||{}))},c.state=function(t){return"  "+a(t)+";"},c.edge=function(t){return"  "+a(t.from)+" -> "+a(t.to)+c.edge.attr(t)+";"},c.edge.attr=function(t){var e,n,i,o=Object.keys(t).sort(),s=[];for(e=0,n=o.length;e<n;e++)"from"!==(i=o[e])&&"to"!==i&&s.push(i+"="+a(t[i]));return s.length>0?" [ "+s.join(" ; ")+" ]":""},o.dotcfg=s,o.dotify=c,e.exports=o,cc._RF.pop()},{"../util/mixin":"mixin"}]},{},["app","config","jsm","plugin","history","visualize","camelize","exception","mixin","BackgroundMgr","DecoLayerMgr","EndlessScrollSprites","Enum","GameMgr","GameplayMgr","Item","LevelInfoPageTemplate","MainCharacter","Opponent","Spawner","Utils","BulletBase","LockTargetBullet","StraightBullet","Gun","GunBase","MultiDirectionGun","OneDirectionGun","LevelSelectionMenu","MainMenu","PauseMenu","Patrol","RetreatBase","SideRetreat","PatternBase","DropdownSpawn","FlyBySpawn","GridSpawn","StayOnSpawn"]);